{"version":3,"sources":["webpack:///./src/views/Login.vue?ee22","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e144","webpack:///./src/views/Login.vue?e63b"],"names":["id","class","form","option","value","validate","type","login","status","placeholder","autofocus","changeStatus","password","email","error","components","Header","data","beforeMount","this","$store","dispatch","then","res","loged","$router","push","catch","err","console","log","methods","ref","doLogin","doRegister","hashPas","string","fetch","method","ok","text","render","__scopeId"],"mappings":"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","file":"js/chunk-622d682f.83131143.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=07fcf808&lang=scss&scoped=true\"","<template>\r\n    <div id=\"Login\">\r\n        <Header/>\r\n        <div class=\"content\">\r\n            <div class=\"container\">\r\n                <h1 class=\"header\">{{ form.option.value }}</h1>\r\n                <form\r\n                    class=\"form\"\r\n                    @submit.prevent=\"validate\"\r\n                >\r\n                    <div class=\"options\">\r\n                        <label :class=\"{'active': form.option.value === 'Login'}\">Login<input type=\"radio\" value=\"Login\" v-model=\"form.option.value\" /></label>\r\n                        <label :class=\"{'active': form.option.value === 'Register'}\">Register<input type=\"radio\" value=\"Register\" v-model=\"form.option.value\" /></label>\r\n                    </div>\r\n                    <input\r\n                        type=\"text\"\r\n                        class=\"input\"\r\n                        :class=\"{ 'invalid': !form.login.status }\"\r\n                        v-model=\"form.login.value\"\r\n                        placeholder=\"Login\"\r\n                        autofocus\r\n                        @input=\"changeStatus(form.login)\"\r\n                    >\r\n                    <input\r\n                        type=\"password\"\r\n                        class=\"input\"\r\n                        :class=\"{ 'invalid': !form.password.status }\"\r\n                        v-model=\"form.password.value\"\r\n                        placeholder=\"password\"\r\n                        @input=\"changeStatus(form.password)\"\r\n                    >\r\n                    <input\r\n                        type=\"email\"\r\n                        v-if=\"form.option.value === 'Register'\"\r\n                        class=\"input\"\r\n                        :class=\"{ 'invalid': !form.email.status }\"\r\n                        v-model=\"form.email.value\"\r\n                        placeholder=\"Email\"\r\n                        @input=\"changeStatus(form.email)\"\r\n                    >\r\n                    <input\r\n                        class=\"submit\"\r\n                        type=\"submit\"\r\n                        :value=\"form.option.value\"\r\n                    />\r\n                    <div id=\"error-info\" v-if=\"form.error.value\">{{form.error.value}}</div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue';\r\nimport Header from './../components/Header/index.vue'\r\nexport default defineComponent({\r\n    components: {Header},\r\n    data() {\r\n        return {\r\n            form: {\r\n                option: {\r\n                    value: 'Login',\r\n                },\r\n                login: {\r\n                    value: '',\r\n                    status: true,\r\n                },\r\n                password: {\r\n                    value: '',\r\n                    status: true,\r\n                },\r\n                email: {\r\n                    value: '',\r\n                    status: true,\r\n                },\r\n                error: {\r\n                    value: ''\r\n                }\r\n            }\r\n        }\r\n    },\r\n    beforeMount() {\r\n        this.$store.dispatch('checkStatus')\r\n            .then((res: any) => {\r\n                res.loged ? this.$router.push('/game/'): false\r\n            })\r\n            .catch((err: string) => console.log(err))\r\n    },\r\n    methods: {\r\n        changeStatus(ref: any) {\r\n            ref.status = true\r\n        },\r\n        validate() {\r\n            if (!this.form.login.value) {this.form.login.status = false}\r\n            if (!this.form.password.value) {this.form.password.status = false}\r\n            if (this.form.option.value === 'Register' && !this.form.email.value) {this.form.email.status = false}\r\n\r\n            if (!this.form.login.status || !this.form.password.status || !this.form.email.status) {return}\r\n\r\n            if (this.form.option.value === 'Login') {\r\n                this.doLogin()\r\n            }else if (this.form.option.value === 'Register') {\r\n                this.doRegister()\r\n            }\r\n        },\r\n        hashPas(string: string) {\r\n            return string\r\n        },\r\n        doLogin() {\r\n            this.$store.dispatch('doLogin', {\r\n                login: this.form.login.value,\r\n                password: this.form.password.value\r\n            })\r\n                .then(() => {\r\n                    this.$router.push('/game/')\r\n                })\r\n                .catch((err: string) => {\r\n                    this.form.error.value = err\r\n                })\r\n        },\r\n        doRegister() {\r\n            fetch(`/api/users/?login=${this.form.login.value}&password=${this.form.password.value}`, {\r\n                method: 'POST'\r\n            })\r\n                .then(res => {\r\n                    if (!res.ok) {throw res.text()}\r\n                    this.doLogin();\r\n                })\r\n                .catch(async (err: string) => {\r\n                    this.form.error.value = await err\r\n                })\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    #Login {\r\n        .content {\r\n            padding: 40px 0;\r\n        }\r\n        .container {\r\n            width: 500px;\r\n        }\r\n        .form {\r\n            margin-left: auto;\r\n            margin-right: auto;\r\n            display: grid;\r\n            grid-gap: 30px;\r\n        }\r\n        .options {\r\n            display: flex;\r\n            > * {\r\n                cursor: pointer;\r\n                width: 100%;\r\n                padding: 10px;\r\n                text-align: center;\r\n                &.active, &:hover {\r\n                    background-color: var(--block-color);\r\n                }\r\n            }\r\n            input {\r\n                display: none;\r\n            }\r\n        }\r\n        .input {\r\n            padding: 15px 10px;\r\n            border: 1px solid transparent;\r\n            border-radius: 5px;\r\n            border-bottom: 1px solid #0F0F0F;\r\n            &:focus {\r\n                outline: none;\r\n                box-shadow: 0 0 5px 1px var(--block-color);\r\n            }\r\n            &.invalid {\r\n                border: 1px solid red;\r\n            }\r\n        }\r\n        .submit {\r\n            appearance: none;\r\n            position: relative;\r\n            top: 0;\r\n            border-radius: 5px;\r\n            padding: 10px;\r\n            font-weight: bold;\r\n            text-align: center;\r\n            background-color: var(--block-color);\r\n            color: var(--color-primary);\r\n            font-size: 1.2rem;\r\n            cursor: pointer;\r\n            transition: .3s;\r\n            box-shadow: 0 5px var(--block-shadow-light);\r\n            border: none;\r\n            &:hover {\r\n                background-color: var(--block-color-hover);\r\n            }\r\n            &:focus {\r\n                outline: none;\r\n            }\r\n            &:active {\r\n                top: 5px;\r\n                box-shadow: 0 0 var(--block-shadow-light);\r\n            }\r\n        }\r\n        #error-info {\r\n            border: 1px solid red;\r\n            padding: 15px 10px;\r\n            border-radius: 3px;\r\n        }\r\n        @media (min-width: 768px) {\r\n            .content {\r\n                position: absolute;\r\n                left: 0;\r\n                top: 0;\r\n                width: 100%;\r\n                height: 100%;\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: center;\r\n            }\r\n        }\r\n    }\r\n</style>","\r\nimport { defineComponent } from 'vue';\r\nimport Header from './../components/Header/index.vue'\r\nexport default defineComponent({\r\n    components: {Header},\r\n    data() {\r\n        return {\r\n            form: {\r\n                option: {\r\n                    value: 'Login',\r\n                },\r\n                login: {\r\n                    value: '',\r\n                    status: true,\r\n                },\r\n                password: {\r\n                    value: '',\r\n                    status: true,\r\n                },\r\n                email: {\r\n                    value: '',\r\n                    status: true,\r\n                },\r\n                error: {\r\n                    value: ''\r\n                }\r\n            }\r\n        }\r\n    },\r\n    beforeMount() {\r\n        this.$store.dispatch('checkStatus')\r\n            .then((res: any) => {\r\n                res.loged ? this.$router.push('/game/'): false\r\n            })\r\n            .catch((err: string) => console.log(err))\r\n    },\r\n    methods: {\r\n        changeStatus(ref: any) {\r\n            ref.status = true\r\n        },\r\n        validate() {\r\n            if (!this.form.login.value) {this.form.login.status = false}\r\n            if (!this.form.password.value) {this.form.password.status = false}\r\n            if (this.form.option.value === 'Register' && !this.form.email.value) {this.form.email.status = false}\r\n\r\n            if (!this.form.login.status || !this.form.password.status || !this.form.email.status) {return}\r\n\r\n            if (this.form.option.value === 'Login') {\r\n                this.doLogin()\r\n            }else if (this.form.option.value === 'Register') {\r\n                this.doRegister()\r\n            }\r\n        },\r\n        hashPas(string: string) {\r\n            return string\r\n        },\r\n        doLogin() {\r\n            this.$store.dispatch('doLogin', {\r\n                login: this.form.login.value,\r\n                password: this.form.password.value\r\n            })\r\n                .then(() => {\r\n                    this.$router.push('/game/')\r\n                })\r\n                .catch((err: string) => {\r\n                    this.form.error.value = err\r\n                })\r\n        },\r\n        doRegister() {\r\n            fetch(`/api/users/?login=${this.form.login.value}&password=${this.form.password.value}`, {\r\n                method: 'POST'\r\n            })\r\n                .then(res => {\r\n                    if (!res.ok) {throw res.text()}\r\n                    this.doLogin();\r\n                })\r\n                .catch(async (err: string) => {\r\n                    this.form.error.value = await err\r\n                })\r\n        }\r\n    }\r\n})\r\n","import { render } from \"./Login.vue?vue&type=template&id=07fcf808&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=ts\"\nexport * from \"./Login.vue?vue&type=script&lang=ts\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=07fcf808&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-07fcf808\"\n\nexport default script"],"sourceRoot":""}
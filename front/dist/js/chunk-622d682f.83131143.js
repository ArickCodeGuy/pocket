(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-622d682f"],{5064:function(t,e,o){"use strict";o("b176")},a55b:function(t,e,o){"use strict";o.r(e);var n=o("7a23");Object(n["w"])("data-v-07fcf808");var a={id:"Login"},r={class:"content"},i={class:"container"},s={class:"header"},u={class:"options"},c=Object(n["h"])("Login"),l=Object(n["h"])("Register"),f=["value"],p={key:1,id:"error-info"};function m(t,e,o,m,d,v){var h=Object(n["B"])("Header");return Object(n["t"])(),Object(n["f"])("div",a,[Object(n["i"])(h),Object(n["g"])("div",r,[Object(n["g"])("div",i,[Object(n["g"])("h1",s,Object(n["D"])(t.form.option.value),1),Object(n["g"])("form",{class:"form",onSubmit:e[8]||(e[8]=Object(n["K"])((function(){return t.validate&&t.validate.apply(t,arguments)}),["prevent"]))},[Object(n["g"])("div",u,[Object(n["g"])("label",{class:Object(n["o"])({active:"Login"===t.form.option.value})},[c,Object(n["J"])(Object(n["g"])("input",{type:"radio",value:"Login","onUpdate:modelValue":e[0]||(e[0]=function(e){return t.form.option.value=e})},null,512),[[n["F"],t.form.option.value]])],2),Object(n["g"])("label",{class:Object(n["o"])({active:"Register"===t.form.option.value})},[l,Object(n["J"])(Object(n["g"])("input",{type:"radio",value:"Register","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.form.option.value=e})},null,512),[[n["F"],t.form.option.value]])],2)]),Object(n["J"])(Object(n["g"])("input",{type:"text",class:Object(n["o"])(["input",{invalid:!t.form.login.status}]),"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.form.login.value=e}),placeholder:"Login",autofocus:"",onInput:e[3]||(e[3]=function(e){return t.changeStatus(t.form.login)})},null,34),[[n["G"],t.form.login.value]]),Object(n["J"])(Object(n["g"])("input",{type:"password",class:Object(n["o"])(["input",{invalid:!t.form.password.status}]),"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.form.password.value=e}),placeholder:"password",onInput:e[5]||(e[5]=function(e){return t.changeStatus(t.form.password)})},null,34),[[n["G"],t.form.password.value]]),"Register"===t.form.option.value?Object(n["J"])((Object(n["t"])(),Object(n["f"])("input",{key:0,type:"email",class:Object(n["o"])(["input",{invalid:!t.form.email.status}]),"onUpdate:modelValue":e[6]||(e[6]=function(e){return t.form.email.value=e}),placeholder:"Email",onInput:e[7]||(e[7]=function(e){return t.changeStatus(t.form.email)})},null,34)),[[n["G"],t.form.email.value]]):Object(n["e"])("",!0),Object(n["g"])("input",{class:"submit",type:"submit",value:t.form.option.value},null,8,f),t.form.error.value?(Object(n["t"])(),Object(n["f"])("div",p,Object(n["D"])(t.form.error.value),1)):Object(n["e"])("",!0)],32)])])])}Object(n["u"])();var d=o("1da1"),v=(o("96cf"),o("d3b7"),o("99af"),o("981c")),h=Object(n["j"])({components:{Header:v["a"]},data:function(){return{form:{option:{value:"Login"},login:{value:"",status:!0},password:{value:"",status:!0},email:{value:"",status:!0},error:{value:""}}}},beforeMount:function(){var t=this;this.$store.dispatch("checkStatus").then((function(e){e.loged&&t.$router.push("/game/")})).catch((function(t){return console.log(t)}))},methods:{changeStatus:function(t){t.status=!0},validate:function(){this.form.login.value||(this.form.login.status=!1),this.form.password.value||(this.form.password.status=!1),"Register"!==this.form.option.value||this.form.email.value||(this.form.email.status=!1),this.form.login.status&&this.form.password.status&&this.form.email.status&&("Login"===this.form.option.value?this.doLogin():"Register"===this.form.option.value&&this.doRegister())},hashPas:function(t){return t},doLogin:function(){var t=this;this.$store.dispatch("doLogin",{login:this.form.login.value,password:this.form.password.value}).then((function(){t.$router.push("/game/")})).catch((function(e){t.form.error.value=e}))},doRegister:function(){var t=this;fetch("/api/users/?login=".concat(this.form.login.value,"&password=").concat(this.form.password.value),{method:"POST"}).then((function(e){if(!e.ok)throw e.text();t.doLogin()})).catch(function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o;case 2:t.form.error.value=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}});o("5064");h.render=m,h.__scopeId="data-v-07fcf808";e["default"]=h},b176:function(t,e,o){}}]);
//# sourceMappingURL=chunk-622d682f.83131143.js.map